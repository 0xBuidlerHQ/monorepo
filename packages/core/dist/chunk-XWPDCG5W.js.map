{"version":3,"sources":["../src/format/index.ts"],"sourcesContent":["///////////////////////////\n////////// UNITS //////////\n///////////////////////////\n\nimport { formatUnits, parseUnits } from \"viem\";\n\n/**\n * @dev\n */\nconst FormatUSD = {\n\tclassic: (\n\t\tvalue: Parameters<ReturnType<typeof Intl.NumberFormat>[\"format\"]>[0],\n\t\tconfig?: Parameters<typeof Intl.NumberFormat>[1],\n\t) =>\n\t\tnew Intl.NumberFormat(\"en-US\", {\n\t\t\tstyle: \"currency\",\n\t\t\tcurrency: \"USD\",\n\t\t\t...config,\n\t\t}).format(value),\n\n\tfull: (\n\t\tvalue: Parameters<ReturnType<typeof Intl.NumberFormat>[\"format\"]>[0],\n\t\tconfig?: Parameters<typeof Intl.NumberFormat>[1],\n\t) =>\n\t\tnew Intl.NumberFormat(\"en-US\", {\n\t\t\tstyle: \"currency\",\n\t\t\tcurrency: \"USD\",\n\t\t\tmaximumFractionDigits: 100,\n\t\t\t...config,\n\t\t}).format(value),\n};\n\n/**\n * @dev\n */\nconst FormatPercent = new Intl.NumberFormat(\"en-US\", {\n\tstyle: \"percent\",\n\tminimumFractionDigits: 2,\n\tmaximumFractionDigits: 2,\n});\n\n/**\n * @dev\n */\nconst FormatNumber = new Intl.NumberFormat(\"en-US\", {\n\tstyle: \"decimal\",\n\troundingMode: \"trunc\",\n\tmaximumFractionDigits: 4,\n});\n\n/**\n * @dev\n */\nconst FormatUnits = {\n\tformat: (value: bigint | undefined, decimals: number | undefined) => {\n\t\tif (value === undefined || decimals === undefined) return \"0\";\n\t\treturn formatUnits(value, decimals);\n\t},\n\tparse: (value: string | undefined, decimals: number | undefined) => {\n\t\tif (value === undefined || decimals === undefined) return 0n;\n\t\treturn parseUnits(value, decimals);\n\t},\n};\n\n/**\n * @dev\n * Converts a bigint using decimals and formats it using FormatNumber.\n */\nconst FormatBeauty = (value: bigint | undefined, decimals: number = 18) => {\n\tif (value === undefined) return \"0\";\n\n\t// formatUnits returns a string, so we parse it into a JS number\n\t// If the number is too large for JS, this will fall back to the raw string\n\tconst formatted = FormatUnits.format(value, decimals);\n\n\t// Try converting to a number, but keep the original if we overflow\n\tconst num = Number(formatted);\n\n\t// If Number loses precision, avoid mangling and just return the string\n\tif (!Number.isFinite(num)) return formatted;\n\n\treturn FormatNumber.format(num);\n};\n\n///////////////////////////\n////// HASH & ADDRESS /////\n///////////////////////////\n\nconst FormatEvmHash = (hash: string | undefined) =>\n\thash ? `${hash.slice(0, 6)}...${hash.slice(-4)}` : hash;\n\nconst FormatEvmAddress = (address: string | undefined) =>\n\taddress ? `${address.slice(0, 6)}...${address.slice(-4)}` : undefined;\n\nexport { FormatEvmHash, FormatEvmAddress };\n\n///////////////////////////\n////// BLOCK EXPLORER /////\n///////////////////////////\n\n/**\n * @dev\n */\nconst FormatExplorerAddress = (\n\tblockExplorerUrl: string | undefined,\n\taddress: string | undefined,\n) => {\n\tif (!blockExplorerUrl || !address) return \"#\";\n\n\treturn `${blockExplorerUrl}/address/${address}`;\n};\n\n/**\n * @dev\n */\nconst FormatExplorerTransaction = (\n\tblockExplorerUrl: string | undefined,\n\ttxHash: string | undefined,\n) => {\n\tif (!blockExplorerUrl || !txHash) return \"#\";\n\n\treturn `${blockExplorerUrl}/tx/${txHash}`;\n};\n//\n/**\n * @dev\n */\nconst FormatExplorerBlock = (\n\tblockExplorerUrl: string | undefined,\n\tblockNumber: number | undefined,\n) => {\n\tif (!blockExplorerUrl || !blockNumber) return \"#\";\n\n\treturn `${blockExplorerUrl}/block/${blockNumber}`;\n};\n\nexport {\n\tFormatExplorerAddress,\n\tFormatExplorerBlock,\n\tFormatExplorerTransaction,\n\tFormatBeauty,\n\tFormatUSD,\n\tFormatPercent,\n\tFormatNumber,\n\tFormatUnits,\n};\n"],"mappings":";;;;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAIA,SAAS,aAAa,kBAAkB;AAKxC,IAAM,YAAY;AAAA,EACjB,SAAS,CACR,OACA,WAEA,IAAI,KAAK,aAAa,SAAS;AAAA,IAC9B,OAAO;AAAA,IACP,UAAU;AAAA,IACV,GAAG;AAAA,EACJ,CAAC,EAAE,OAAO,KAAK;AAAA,EAEhB,MAAM,CACL,OACA,WAEA,IAAI,KAAK,aAAa,SAAS;AAAA,IAC9B,OAAO;AAAA,IACP,UAAU;AAAA,IACV,uBAAuB;AAAA,IACvB,GAAG;AAAA,EACJ,CAAC,EAAE,OAAO,KAAK;AACjB;AAKA,IAAM,gBAAgB,IAAI,KAAK,aAAa,SAAS;AAAA,EACpD,OAAO;AAAA,EACP,uBAAuB;AAAA,EACvB,uBAAuB;AACxB,CAAC;AAKD,IAAM,eAAe,IAAI,KAAK,aAAa,SAAS;AAAA,EACnD,OAAO;AAAA,EACP,cAAc;AAAA,EACd,uBAAuB;AACxB,CAAC;AAKD,IAAM,cAAc;AAAA,EACnB,QAAQ,CAAC,OAA2B,aAAiC;AACpE,QAAI,UAAU,UAAa,aAAa,OAAW,QAAO;AAC1D,WAAO,YAAY,OAAO,QAAQ;AAAA,EACnC;AAAA,EACA,OAAO,CAAC,OAA2B,aAAiC;AACnE,QAAI,UAAU,UAAa,aAAa,OAAW,QAAO;AAC1D,WAAO,WAAW,OAAO,QAAQ;AAAA,EAClC;AACD;AAMA,IAAM,eAAe,CAAC,OAA2B,WAAmB,OAAO;AAC1E,MAAI,UAAU,OAAW,QAAO;AAIhC,QAAM,YAAY,YAAY,OAAO,OAAO,QAAQ;AAGpD,QAAM,MAAM,OAAO,SAAS;AAG5B,MAAI,CAAC,OAAO,SAAS,GAAG,EAAG,QAAO;AAElC,SAAO,aAAa,OAAO,GAAG;AAC/B;AAMA,IAAM,gBAAgB,CAAC,SACtB,OAAO,GAAG,KAAK,MAAM,GAAG,CAAC,CAAC,MAAM,KAAK,MAAM,EAAE,CAAC,KAAK;AAEpD,IAAM,mBAAmB,CAAC,YACzB,UAAU,GAAG,QAAQ,MAAM,GAAG,CAAC,CAAC,MAAM,QAAQ,MAAM,EAAE,CAAC,KAAK;AAW7D,IAAM,wBAAwB,CAC7B,kBACA,YACI;AACJ,MAAI,CAAC,oBAAoB,CAAC,QAAS,QAAO;AAE1C,SAAO,GAAG,gBAAgB,YAAY,OAAO;AAC9C;AAKA,IAAM,4BAA4B,CACjC,kBACA,WACI;AACJ,MAAI,CAAC,oBAAoB,CAAC,OAAQ,QAAO;AAEzC,SAAO,GAAG,gBAAgB,OAAO,MAAM;AACxC;AAKA,IAAM,sBAAsB,CAC3B,kBACA,gBACI;AACJ,MAAI,CAAC,oBAAoB,CAAC,YAAa,QAAO;AAE9C,SAAO,GAAG,gBAAgB,UAAU,WAAW;AAChD;","names":[]}